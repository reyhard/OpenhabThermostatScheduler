<!DOCTYPE html>
<html lang="en">
<head>
  <meta charset="UTF-8">
  <title>Thermostat Scheduler with Controls</title>
  <link rel="stylesheet" href="styles.css">
  <link href="https://cdnjs.cloudflare.com/ajax/libs/font-awesome/6.7.0/css/all.min.css" rel="stylesheet">
</head>
<body>
  <div id="scheduler">
    <h3>Thermostat Scheduler Timeline</h3>

    <div id="settings-button-container">
      <button id="settings-button">⚙️</button>
    </div>
    <div id="block-settings-modal">
      <h2>Blocks Settings</h2>
      <label for="block-select-modal">Select Block:</label>
      <select id="block-select-modal"></select>

      <label for="script-textarea-modal">Script Editor:</label>
      <textarea id="script-textarea-modal" rows="8"></textarea>

      <button id="save-block-settings-modal">Save</button>
      <button id="close-modal">Close</button>
    </div>

    <div id="modal-overlay"></div>
    <!-- Days selector -->
    <div id="days-selector">
      <button class="day-button active" onclick="selectDay('Monday')">Monday</button>
      <button class="day-button" onclick="selectDay('Tuesday')">Tuesday</button>
      <button class="day-button" onclick="selectDay('Wednesday')">Wednesday</button>
      <button class="day-button" onclick="selectDay('Thursday')">Thursday</button>
      <button class="day-button" onclick="selectDay('Friday')">Friday</button>
      <button class="day-button" onclick="selectDay('Saturday')">Saturday</button>
      <button class="day-button" onclick="selectDay('Sunday')">Sunday</button>
    </div>

    <!-- Timeline -->
    <div id="timeline-container1" class="timeline-container">
      <div id="timeline1" class="timeline"></div>
      <div id="time-indicators1" class="time-indicators"></div>
    </div>
    <div id="timeline-container2" class="timeline-container">
      <div id="timeline2" class="timeline"></div>
      <div id="time-indicators2" class="time-indicators"></div>
    </div>
    <div id="timeline-container3" class="timeline-container">
      <div id="timeline3" class="timeline"></div>
      <div id="time-indicators3" class="time-indicators"></div>
    </div>
    <div id="timeline-container4" class="timeline-container">
      <div id="timeline4" class="timeline"></div>
      <div id="time-indicators4" class="time-indicators"></div>
    </div>
    <div id="timeline-container5" class="timeline-container">
      <div id="timeline5" class="timeline"></div>
      <div id="time-indicators5" class="time-indicators"></div>
    </div>

    <!-- Block Controls -->
    <div id="block-controls">
      <button id="remove-block" class="control-button" onclick="removeBlock(activeZone)">Remove Block</button>
      <label for="block-type">Block Type:</label>
      <select id="block-type" onchange="changeBlockType(activeZone, event)"></select>

      <!-- Start Time Input -->
      <label for="start-time">Start Time:</label>
      <input type="time" id="start-time" onchange="updateStartTime(activeZone, this.value)">

      <!-- End Time Input -->
      <label for="end-time">End Time:</label>
      <input type="time" id="end-time" onchange="updateEndTime(activeZone, this.value)">

      <button class="control-button" id="add-block-btn" onclick="addBlock(activeZone, activeDay)">Add Block</button>
    </div>

    <!-- Modal Window -->
    <div id="copyModal" class="modal" style="display: none;">
      <div class="modal-content">
        <span class="close" onclick="closeCopyModal()">&times;</span>
        <h2>Copy Schedule</h2>
        <p>Select a target day to copy the schedule:</p>
        <select id="targetDay">
          <option value="Monday">Monday</option>
          <option value="Tuesday">Tuesday</option>
          <option value="Wednesday">Wednesday</option>
          <option value="Thursday">Thursday</option>
          <option value="Friday">Friday</option>
          <option value="Saturday">Saturday</option>
          <option value="Sunday">Sunday</option>
        </select>
        <button onclick="confirmCopySchedule()">Confirm</button>
      </div>
    </div>
    <!-- Save Schedule Button -->
    <button class="control-button" id="save-schedule-btn" onclick="saveScheduleDay(activeDay)">Save Schedule</button>
    <button class="control-button" onclick="openCopyModal()">Copy Schedule</button>
  </div>

  <div id="notification-container"></div>
  <script src="config.js" type="module"></script>
  <script src="scripts/api.js" type="module"></script>
  <script src="scripts/main.js" type="module"></script>
</body>
</html>
